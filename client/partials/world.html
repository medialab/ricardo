<!-- <div id="sticky-marker"></div>
<div id="sticky-container"> -->
<div class="container">
    </br>
    </br>
    <p class="paragraphPage">
     La vue mondiale montre une estimation du <strong> <em> commerce mondial </em> </strong> calculée à partir des flux de commerce total de tous les reporting entities. Elle indique le nombre de reporting entities disponible pour calculer l’estimation du commerce mondial. Elle permet aussi de comparer l’évolution du commerce total des reporting entities sélectionnés et leur part dans le commerce mondial.
    </p>
    <div class="row" >

      <div class="timeline-cont col-sm-12">
        <!-- <h4>Import and export evolution of World</h4> -->
        <world-title></world-title>
        <p class="paragraphViz">
         For more information about this graph, report to <a href="">World defintions</a> 
        </p>
        <dual-timeline 
        ng-data="timelineData" 
        start-date="selectedMinDate" 
        end-date="selectedMaxDate" 
        ></dual-timeline>
        <div class="legend">
        <div class="legend-item">
          <div class="square import"></div> Import
        </div>
          <div class="legend-item">
            <div class="square export"></div> Export
          </div>
          <div class="legend-item">
            Data expressed in <strong>sterling pound</strong>
          </div>
        </div>
      </div>  
    </div>
    <div class="row">
      <div class="col-sm-12">
        <h4>Number of reporting entities in estimating World trade</h4>
        <!-- <p class="paragraphViz">
          In this graph, bars represent for each year the sum of available reportings with Worldbestguess as partner 
        </p> -->
        <bar-chart 
          ng-data="nbReportings"
          start-date="selectedMinDate"
          end-date="selectedMaxDate"
          raw-start-date="rawMinDate"
          raw-end-date="rawMaxDate"
          ></bar-chart>
        <div class="legend">
          <div class="legend-item">
            <div class="square import"></div> Reportings available to build the curve
          </div>
        </div>
      </div>
    </div>
</div>
<!-- </div> -->

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h4 class="titleDualTL">World trade comparaison with  
      <span ng-repeat="elm in reporting" ng-click="removeReporting(elm)" ng-style="{color:elm.color}" >{{elm.RICname}}
      
      <span class="close-btn">
        <i class="fa fa-times"></i>
      </span>
      <span ng-if="!$last">, </span>
      </span>, {{selectedMinDate}} – {{selectedMaxDate}}, in   
      <div class="inline-select">
        <ui-select ng-model="linechartCurrency.selected" theme="bootstrap">
        <match placeholder="Select sterling or percent">{{$select.selected.name.value}}</match>
        <choices repeat="item in linechartCurrencyChoices | filter: $select.search">
          <div ng-bind-html="item.name.value | highlight: $select.search"></div>
        </choices>
      </ui-select>
    </div> 
    for
    <div class="inline-select">
        <ui-select ng-model="linechartFlow.selected" theme="bootstrap">
        <match placeholder="Select type flow">{{$select.selected.name.value}}</match>
        <choices repeat="item in linechartFlowChoices | filter: $select.search">
          <div ng-bind-html="item.name.value | highlight: $select.search"></div>
        </choices>
      </ui-select>
    </div>

      <i class="fa fa-info-circle"></i> 
      </h4>
        <!-- <p class="paragraphViz">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec tempus commodo leo a sagittis. Sed eu efficitur lorem. Phasellus at ex quis arcu accumsan blandit. Integer sit amet pharetra sapien, in tincidunt eros. Sed fringilla, leo ut vehicula cursus, tortor tortor sodales metus, ut pulvinar magna risus sed diam. Maecenas luctus iaculis rutrum. 
        </p> -->
        <div ng-show="messagePercent"> 
         <p>
            The percentages are based on the total amount of world sumpartners of {{entities.sourceEntity.selected.RICname}}
         </p>
        </div>
    </div>
  </div>

  <!-- <div class="row">  
    <div class="col-sm-12 filter-group" >
        <div class="btn-group pull-right">
          <label class="btn btnLineChart" ng-model="yValue" btn-radio="'total'" uncheckable>Total</label>
          <label class="btn btnLineChart" ng-model="yValue" btn-radio="'imp'" uncheckable>Imports</label>
          <label class="btn btnLineChart" ng-model="yValue" btn-radio="'exp'" uncheckable>Exports</label>
        </div>
        <div class="btn-group pull-right" style="margin-right:30px;">
          <label class="btn btnLineChart" ng-model="conversion" btn-radio="'sterling'" uncheckable>Sterling</label>
          <label class="btn btnLineChart" ng-model="conversion" btn-radio="'value'" uncheckable>Percent</label>
        </div>
    </div>
  </div> -->
  <div id="select-lineChart">
    <div>
      <h3 class="subtitle col-md-3">Select up to 5 reportings :</h3>
    </div>
    <div class="select-dropdown col-md-9" style="padding-top:10px;">

      <div class="inline-select" >
        <ui-select   ng-model="entities.sourceCountryEntity.selected" theme="bootstrap">
          <match placeholder="Country">{{$select.selected.RICname}}</match>
          <choices repeat="item in reportingCountryEntities | filter: $select.search">
            <div ng-bind-html="item.RICname | highlight: $select.search"></div>
          </choices>
        </ui-select>
      </div>

    <div class="inline-select" >
      <ui-select  ng-model="entities.sourceColonialEntity.selected" theme="bootstrap">
        <match placeholder="Colonial area">{{$select.selected.RICname}}</match>
        <choices repeat="item in reportingColonialEntities | filter: $select.search">
          <div ng-bind-html="item.RICname | highlight: $select.search"></div>
        </choices>
      </ui-select>
    </div>
      <!-- no need geoEntities beacause there is no data for this entity with worldbestguess -->
    <div class="inline-select" >
      <ui-select  ng-model="entities.sourceGeoEntity.selected" theme="bootstrap">
        <match placeholder="Geographical area">{{$select.selected.RICname}}</match>
        <choices repeat="item in reportingGeoEntities | filter: $select.search">
          <div ng-bind-html="item.RICname | highlight: $select.search"></div>
        </choices>
      </ui-select>
    </div>

    <div class="inline-select" >
      <ui-select  ng-model="entities.sourceContinentEntity.selected" theme="bootstrap">
        <match placeholder="Continent">{{$select.selected.RICname}}</match>
        <choices repeat="item in reportingContinentEntities | filter: $select.search">
          <div ng-bind-html="item.RICname | highlight: $select.search"></div>
        </choices>
      </ui-select>
    </div>

  </div>

  <div class="row">
    <div class="col-sm-12">
      <linechart-world ng-data="linechartData">
      </linechart-world>
    </div>
  </div>
  </div>
  <div class="row">
    <div class="col-sm-12 text-center shdt">
      <button type="button" class="btn" ng-model="viewTable" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
          Show/Hide data table
      </button>
      <button type="button" ng-click="download()" class="btn">
          Download data
      </button>
    </div>
  </div>
  <div ng-if="viewTable" class="row table-cont">
    <div class="col-sm-12 grid-cont">
      <div class="gridStyle" ng-grid="gridOptions"></div>
    </div>
  </div>
</div>
</div>