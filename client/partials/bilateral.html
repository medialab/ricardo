<div class="container">
    <div ng-show="missing" class="alert"> 
      <div class="modal-body" >
       <p>
          There is <strong>no data available</strong> in the database for {{entities.sourceEntity.selected.RICname}}
       </p>
       <p>
       between {{selectedMinDate}} and {{selectedMaxDate}}  
       </p>
        <p>
          Choose another one or change date selection, thank you !
       </p>
      </div>
      <div class="modal-footer">
          <button class="btn btn-default" ng-click="ok()">Change fields manually</button> or 
          <button class="btn btn-default" ng-click="fieldsByDefault()">Set fields by default</button>
      </div>
    </div>
    <div ng-show="missingTarget" class="alert"> 
      <div class="modal-body" >
      <h4> {{message}} </h4>
       <p>
          There is <strong>no data available</strong> in the database for {{entities.sourceEntity.selected.RICname}} with {{entities.targetEntity.selected.RICname}}
       </p>
       <p>
       between {{selectedMinDate}} and {{selectedMaxDate}}  
       </p>
        <p>
          Choose another one or change date selection, thank you !
       </p>
      </div>
      <div class="modal-footer">
          <button class="btn btn-default" ng-click="okTarget()">Change fields manually</button> or 
          <button class="btn btn-default" ng-click="fieldsByDefault()">Set fields by default</button>
      </div>
    </div>
  <div class="row">
    <div class="col-md-12">
    <p class="paragraphPage">
    </br>
    </br>
      {{ 'BILATERAL_VIEW_INTRO' | translate }}
    </p>
    <!-- <bilateral-title>  </bilateral-title> -->
    <h4>
  Trade between
  <inline-select-country ng-model="entities.sourceEntity.selected" list="reportingEntities" analytics-on="click" analytics-event="Bilateral source" ></inline-select-country>
  and
  <inline-select-country ng-model="entities.targetEntity.selected" list="reportingEntities" analytics-on="click" analytics-event="Bilateral target" ></inline-select-country>
  - From
  <inline-select-year ng-model="selectedMinDate" list="rawYearsRange_forInf" ></inline-select-year>
  to
  <inline-select-year ng-model="selectedMaxDate" list="rawYearsRange_forSup" ></inline-select-year>
  as reported by {{entities.sourceEntity.selected.RICname}}
</h4>
    </br>
      <dual-timeline 
        ng-data="timelineData" 
        start-date="selectedMinDate" 
        end-date="selectedMaxDate">
      </dual-timeline>      
    </div>

    <div class="timeline-cont col-md-12">
      <div class="legend">
        <div class="legend-item">
          <div class="square import"></div> Import
        </div>
        <div class="legend-item">
          <div class="square export"></div> Export
        </div>
        <div class="legend-item">
          <div class="line available"></div> {{ 'AVAILABLE' | translate }}
        </div>
        <div class="legend-item">
          <div class="line unavailable"></div> {{ 'UNAVAILABLE' | translate }}
        </div>
        <div class="legend-item">
          {{ 'CURRENCY' | translate }} <strong>{{actualCurrency}}</strong> 
        </div>
      </div>
      <br>
      <br>
      <h4>Available years in {{entities.sourceEntity.selected.RICname}} and {{entities.targetEntity.selected.RICname}} trade statistics</h4>
      <brushing-timeline
        ng-data="timelineData"
        start-date="selectedMinDate"
        end-date="selectedMaxDate"
        raw-start-date="rawMinDate"
        raw-end-date="rawMaxDate"
        source-country="entities.sourceEntity.selected.RICname"
        target-country="entities.targetEntity.selected.RICname"
        mirror-lines="true"
        ng-model="timelineData"
        ng-change="dataChange()"
      ></brushing-timeline>
      <div class="legend">
        <div class="legend-item">
          <div class="square import"></div> Import
        </div>
        <div class="legend-item">
          <div class="square export"></div> Export
        </div>
        <div class="legend-item">
          <div class="line available"></div> {{ 'AVAILABLE' | translate }}
        </div>
        <div class="legend-item">
          <div class="line unavailable"></div> {{ 'UNAVAILABLE' | translate }}
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container">
  <div class="row">
    <div class="col-md-12">
      <br>
      <br>
      <h4>Comparison of {{entities.sourceEntity.selected.RICname}} and {{entities.targetEntity.selected.RICname}} trade statistics</h4>
      <p class="paragraphViz">
        {{ 'COMPARISON_INTRO' | translate }}
      </p>
      <comparison-timeline 
      ng-data="timelineData" 
      start-date="selectedMinDate" 
      end-date="selectedMaxDate">
      </comparison-timeline>
      <div class="legend">
        <div class="legend-item">
           <strong>A</strong> reporting : {{entities.sourceEntity.selected.RICname}} | <strong>B</strong> partner : {{entities.targetEntity.selected.RICname}}
           <br>
           <br>
          <span class="legendImport">Imp A <-B </span> = country A imports from country B as reported by country A | <span class="legendExport">Imp B <-A </span> = country B imports from country A as reported by country B
          <br>
          <br>
          <span class="legendImport">Exp B->A</span> = country B exports to country A as reported by country B | <span class="legendExport">Exp A->B</span> = country A exports to country B as reported by country A 
      </div>
      <div class="legend">
        <div class="legend-item" >
        Mirror flows discrepancy
          <div class="line diff-import" style="margin-left:20px;"></div>
          <strong>(Imp A <-B - Exp B->A) / Exp B->A</strong>
        </div>
        or
        <div class="legend-item" style="margin-left:20px;">
          <div class="line diff-export"></div>
          <strong>(Imp B <-A - Exp A->B) / Exp A->B</strong>
        </div>
      </div>
      <br>
      <br>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 text-center shdt">
      <button type="button" class="btn" ng-model="viewTable" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
          {{ 'DOWNLOAD_1' | translate }}
      </button>
      <button type="button" ng-click="download()" class="btn" analytics-on="click" analytics-event="Download Bilateral">
          {{ 'DOWNLOAD_2' | translate }}
      </button>
    </div>
  </div>
  <div ng-if="viewTable" class="row table-cont">
    <div class="col-sm-12 grid-cont">
      <div class="gridStyle" ng-grid="gridOptions">
        <div class="no-data" ng-hide="gridOptions.data.length && !loading"></div>
      </div>
    </div>
  </div>
</div>