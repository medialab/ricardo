
<div id="sticky-marker"></div>
<div id="sticky-container">
<div class="container">
<div ng-show="missing" class="alert"> 
  <div class="modal-body" >
   <p>
      There is <strong>no data available</strong> in the database for {{entities.sourceEntity.selected.RICname}}
   </p>
   <p>
   between {{selectedMinDate}} and {{selectedMaxDate}}  
   </p>
    <p>
      Choose another one or change date selection, thank you !
   </p>
  </div>
  <div class="modal-footer">
      <button class="btn btn-default" ng-click="ok()">OK</button>
  </div>
</div>
<div ng-show="missingTarget" class="alert"> 
  <div class="modal-body" >
   <p>
      There is <strong>no data available</strong> in the database for {{entities.sourceEntity.selected.RICname}} with {{entities.targetEntity.selected.RICname}}
   </p>
   <p>
   between {{selectedMinDate}} and {{selectedMaxDate}}  
   </p>
    <p>
      Choose another one or change date selection, thank you !
   </p>
  </div>
  <div class="modal-footer">
      <button class="btn btn-default" ng-click="okTarget()">OK</button>
  </div>
</div>
  <div class="row">
  	<div class="timeline-cont col-sm-12">
      <bilateral-title></bilateral-title>
      <div class="legend">
        <div class="legend-item">
          <div class="square import"></div> Import
        </div>
        <div class="legend-item">
          <div class="square export"></div> Export
        </div>
        <div class="legend-item">
          <div class="line available"></div> Available data
        </div>
        <div class="legend-item">
          <div class="line unavailable"></div> Unavailable data
        </div>
        <div class="legend-item">
          Data expressed in <strong>{{actualCurrency}}</strong>
        </div>
      </div>
      <dual-timeline ng-data="timelineData" start-date="selectedMinDate" end-date="selectedMaxDate"></dual-timeline>
    </div>
  </div>
</div>
</div>
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <bilateral-title id="alt-title" style="display:none;"></bilateral-title>
        <brushing-timeline
          ng-data="timelineData"
          start-date="selectedMinDate"
          end-date="selectedMaxDate"
          raw-start-date="rawMinDate"
          raw-end-date="rawMaxDate"
          source-country="entities.sourceEntity.selected.RICname"
          target-country="entities.targetEntity.selected.RICname"
          mirror-lines="true"
        ></brushing-timeline>
      </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <br>
      <br>
      <h3>Discrepancies in mirror flows</h3>
      <h4>Comparison of {{entities.sourceEntity.selected.RICname}} and {{entities.targetEntity.selected.RICname}} trade statistics</h4>
      <div class="legend">
        <div class="legend-item">
           <!-- Imports & exports informations coming from sources with the country's point of view.
           <br> -->
           <strong>A</strong> : {{entities.sourceEntity.selected.RICname}} | <strong>B</strong> : {{entities.targetEntity.selected.RICname}}
           <br>
          <strong>ImpA</strong> = country A imports from country B as reported by country A | <strong>ImpB</strong> = country B imports from country A as reported by country B
          <br>
          <strong>ExpA</strong> = country A exports to country B as reported by country A   | <strong>ExpB</strong> = country B exports to country A as reported by country B
      </div>
      <div class="legend">
        <div class="legend-item">
          <div class="line diff-import"></div>
          <strong>(ImpA - ExpB) / ExpB</strong>
        </div>
        <div class="legend-item">
          <div class="line diff-export"></div>
          <strong>(ImpB - ExpA) / ExpA</strong>
        </div>
      </div>
      <comparison-timeline ng-data="timelineData" start-date="selectedMinDate" end-date="selectedMaxDate"></comparison-timeline>
      <br>
      <br>
</div>
  </div>
  <div class="row">
    <div class="col-sm-12 text-center shdt">
      <button type="button" class="btn" ng-model="viewTable" btn-checkbox btn-checkbox-true="1" btn-checkbox-false="0">
          Show/Hide data table
      </button>
      <button type="button" ng-click="download()" class="btn">
          Download data
      </button>
    </div>
  </div>
  <div ng-if="viewTable" class="row table-cont">
    <div class="col-sm-12 grid-cont">
      <div class="gridStyle" ng-grid="gridOptions">
        <div class="no-data" ng-hide="gridOptions.data.length && !loading"></div>
      </div>
    </div>
  </div>
</div>